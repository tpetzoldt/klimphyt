% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/phyto_aggregate_depths.R
\name{phyto_aggregate_depths}
\alias{phyto_aggregate_depths}
\title{Aggregate Phytoplankton Data by Depth}
\usage{
phyto_aggregate_depths(phyto_grouped, levels, top = 0, bot = "max")
}
\arguments{
\item{phyto_grouped}{A data frame of phytoplankton data, typically
pre-processed and grouped. It must contain the columns \code{date},
\code{group}, \code{depth}, and \code{bv} (biovolume).}

\item{levels}{A data frame with columns \code{date} and \code{level},
where \code{level} represents the water level in meters above ground.
If meters above sea level are given, the base level (ground) needs to
be subtracted first.}

\item{top}{Numeric. The top depth of the water column for vertical averaging
(e.g., the surface). Default is 0.}

\item{bot}{Character or Numeric. The bottom depth of the water column.
If set to \code{"max"} (default), it uses the maximum observed depth in the
data. Otherwise, a numeric value can be specified.}
}
\value{
A data frame with the vertically averaged biovolume (\code{bv}) for
each \code{date} and \code{group}.
}
\description{
This function aggregates phytoplankton data across different depths to calculate
a vertical mean for each phytoplankton group on a given date. It uses
depth-weighted averaging, which is a standard method in aquatic ecology
to represent the average abundance in the water column.
}
