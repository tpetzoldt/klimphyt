% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/peak_patterns.R
\name{peak_patterns}
\alias{peak_patterns}
\title{Plot Peak Patterns of Ecological Time Series Data}
\usage{
peak_patterns(
  df,
  y_transform = "cbrt",
  n_months = 12,
  title = "",
  subtitle = "",
  xlab = "Months",
  ylab = "Year"
)
}
\arguments{
\item{df}{A data frame containing the plot data with columns:
\code{Nr}, \code{Year}, \code{Tstart}, \code{Ymax}, \code{Dpeak}, and
\code{Skew}.}

\item{y_transform}{A character string specifying a predefined transformation
or a custom function.
\itemize{
\item \strong{Beginner Mode:} Use a character string: \code{"cbrt"} (cube root, default),
\code{"log"} (natural logarithm), or \code{"sqrt"} (square root).
\item \strong{Expert Mode:} Provide a custom function that takes one numeric
argument, e.g., \code{function(y) y^0.5}.
}}

\item{n_months}{An integer specifying the number of months to display on the
x-axis. The function will generate breaks and labels accordingly.}

\item{title}{A character string for the main plot title.}

\item{subtitle}{A character string for the plot subtitle.}

\item{xlab}{A character string for the x-axis label.}

\item{ylab}{A character string for the y-axis label.}
}
\value{
A \code{ggplot2} object that can be printed, saved, or further modified.
}
\description{
This function visualizes ecological or time-series data as a series of filled
triangles, resembling a "peak pattern" plot. It replicates the functionality
of an old Pascal program with modern R packages like \code{ggplot2}.
The function supports both predefined and custom transformations.
}
\examples{

# Create example data for demonstration
set.seed(42)
example_df <- data.frame(
  Nr = 1:4,
  Year = c(1975, 1975, 1976, 1976),
  Tstart = c(71.2, 154.4, 293.6, 71),
  Ymax = c(2.78, 0.5, 0.76, 2.65),
  Dpeak = c(57.5, 52.8, 84.2, 108.6),
  Skew = c(0.57, 0.64, 0.49, 0.37)
)

# Example 1: Using a predefined transformation (cube root)
plot_cbrt <- peak_patterns(
  df = example_df,
  y_transform = "cbrt",
  n_months = 18,
  title = "Peak Patterns Plot",
  subtitle = "Using Cube Root Transformation",
  xlab = "Time (Months)",
  ylab = "Year"
)
print(plot_cbrt)

# Example 2: Using a custom function
plot_expert <- peak_patterns(
  df = example_df,
  y_transform = function(y) log10(y),
  n_months = 18,
  title = "Peak Patterns Plot",
  subtitle = "Using Custom Log10 Transformation",
  xlab = "Time (Months)",
  ylab = "Year"
)
print(plot_expert)


}
\references{
Petzoldt, T. (1996). Möglichkeiten zur Vorhersage von
Phytoplanktonmassenentwicklungen von der statischen Betrachtungsweise zur
Kurzfristprognose. Dissertation. TU Dresden,
Fakultät Forst-, Geo- und Hydrowissenschaften.
Rolinski, S., Horn, H., Petzoldt, T., & Paul, L. (2007).
Identifying cardinal dates in phytoplankton time series to enable the
analysis of long-term trends. Oecologia, 153(4), 997–1008.
https://doi.org/10.1007/s00442-007-0783-2
}
